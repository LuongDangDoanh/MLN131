{% extends 'base.html' %}
{% block title %}V√≤ng {{ round_number }} - {{ religion }}{% endblock %}
{% block content %}
<h2>{{ religion }}</h2>
<p>S·ªë ng∆∞·ªùi theo ƒë·∫°o hi·ªán t·∫°i: <strong>{{ followers }}</strong></p>
<p>V√≤ng ch∆°i: {{ round_number }} / 10</p>

<details class="regulations">
    <summary>üìñ Quy ƒë·ªãnh c·ªßa Nh√† n∆∞·ªõc</summary>
    <h3>Ch√≠nh s√°ch</h3>
    <ul>
        {% for rule in regulations['policy'] %}
        <li>{{ rule }}</li>
        {% endfor %}
    </ul>
    <h3>Nghi√™m c·∫•m</h3>
    <ul>
        {% for rule in regulations['prohibited'] %}
        <li>{{ rule }}</li>
        {% endfor %}
    </ul>
    <p><em>L∆∞u √Ω: N·∫øu l·ª±a ch·ªçn c·ªßa b·∫°n vi ph·∫°m nh·ªØng quy ƒë·ªãnh n√†y, tr√≤ ch∆°i s·∫Ω k·∫øt th√∫c v√† ƒëi·ªÉm b·∫±ng 0.</em></p>
</details>

<form method="post" action="{{ url_for('play_game') }}" class="decision-form">
    <label for="decision">Ch√≠nh s√°ch / S·ª± ki·ªán b·∫°n l·ª±a ch·ªçn ho·∫∑c ƒë·ªÅ xu·∫•t:</label>
    {% if suggestions %}
    <p>B·∫°n c√≥ th·ªÉ ch·ªçn m·ªôt trong c√°c g·ª£i √Ω sau ho·∫∑c t·ª± nh·∫≠p:</p>
    <ul class="suggestions">
        {% for s in suggestions %}
        <li><button type="button" class="suggestion-button" onclick="document.getElementById('decision').value='{{ s }}'">{{ s }}</button></li>
        {% endfor %}
    </ul>
    {% endif %}
    <textarea id="decision" name="decision" rows="4" cols="60" placeholder="Nh·∫≠p ch√≠nh s√°ch/s·ª± ki·ªán c·ªßa b·∫°n ·ªü ƒë√¢y..." required></textarea>
    <div>
        <button type="submit">G·ª≠i quy·∫øt ƒë·ªãnh</button>
    </div>
</form>

<script>
// Simple script to handle suggestion clicks
document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('.suggestion-button');
    buttons.forEach(function(btn) {
        btn.addEventListener('click', function() {
            const text = this.textContent;
            document.getElementById('decision').value = text;
        });
    });
});
</script>
{% endblock %}